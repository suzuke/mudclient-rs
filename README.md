# Rust MUD Client

一個使用 Rust 開發的高效能、功能豐富的 MUD 客戶端。

## 特色功能

- **多語言支援**: 穩定處理 Big5 編碼，完美顯示中文。
- **ANSI 顏色**: 完整解析並顯示 MUD 中的 ANSI 顏色碼（含 256 色與 TrueColor）。
- **別名系統 (Alias)**: 支援命令縮寫與參數展開（例如：`kk $1` -> `kill $1;loot`）。
- **觸發器系統 (Trigger)**: 正則表達式匹配、自動發送命令、Lua 腳本執行。
- **Lua 腳本**: 內嵌 Lua 引擎，支援進階自動化邏輯。
- **多視窗管理**: 支援將不同的訊息（如聊天、戰鬥）路由到獨立的子視窗。
- **日誌記錄**: 支援純文字與 HTML 格式的日誌存儲，顏色外觀完美重現。
- **Tab 補齊**: 按 Tab 鍵可快速補齊歷史指令。
- **命令回顯**: 發送的指令會直接顯示在視窗中，方便追蹤。
- **自動重連**: 斷線後自動嘗試重新連線。

## 下載與安裝

### 前置要求
- [Rust](https://rustup.rs/) (最新穩定版)

### 編譯
```bash
cargo build --release
```

## 使用指南

### 管理中心
點擊側邊欄的 **「設定中心」** 按鈕即可進入管理介面，檢視當前已載入的：
- 別名 (Alias)
- 觸發器 (Trigger)
- 日誌狀態 (Logger)

### Lua 腳本 API
在觸發器中啟用「使用 Lua 腳本」後，可使用以下 API：
```lua
mud.send("north")           -- 發送指令
mud.echo("Hello!")          -- 本地顯示訊息
mud.log("記錄訊息")          -- 寫入日誌
mud.window("chat", text)    -- 輸出到子視窗
```

### 快捷鍵
- **Tab**: 歷史指令補齊
- **↑/↓**: 瀏覽歷史指令
- **Escape**: 關閉彈出視窗
- **F2-F4**: 開啟設定中心

## 開發架構

- `mudcore`: 核心協定、編碼、別名、觸發器與腳本邏輯。
- `mudgui`: 基於 `egui` 的跨平台圖形介面。

---

## 授權
MIT License
